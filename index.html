<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:,">
    <script src="https://unpkg.com/d3"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="center-align text-title">
      S&P 500 Growth since 2017 Q1
    </div>
      <svg></svg>
    <br>
    <div class="center-align">
        <input type="range" class="slider slidecontainer" id="myRange" disabled>
        <p class="quarter-label">Quarter: <span id="demo" class="quarter-label"></span></p>
      <a onclick="goBack(true)" class="control-btn">Back</a>
      <a onclick="goForward(true)" class="control-btn">Forward</a>
      <a onclick="playpause()" class="control-btn">Play/Pause</a>
    </div>
    <div class="article">
      <p>
        The S&P 500 Index, or Standard & Poor's 500 Index, is a market-capitalization-weighted
        index of 500 leading publicly traded companies in the U.S. It is not an exact list of
        the top 500 U.S. companies by market cap because there are other criteria that the index
        includes. Still, the S&P 500 index is regarded as one of the best gauges of prominent
        American equities' performance, and by extension, that of the stock market overall.
      </p>
      <p>
        The economy can be broken down into sectors, which group stocks with similar business
        characteristics together. The Global Industry Classification Standard (GICS) divides
         the market into 11 sectors, composed of 24 industry groups and 69 industries. The
         commonly-used system helps shape how ETFs and mutual funds are constructed.
      </p>
      <p>
        Market capitalization is the total value of outstanding shares of a given company. The
        calculation of market capitalization is pretty straightforward.  Its formula consists of two
        elements, current price of a single share and number of outstanding shares of a company (the
        ones currently owned by the shareholders). The formula is as follows: <br><code class="mc-code">Market capitalization
        = price of share * number of outstanding shares</code>
      </p>
      <p>
        The swarm chart begins with the first quarter of 2017 (2017 Q1) as the baseline for the market
        cap return calculation. Clicking Forward & Back buttons will update the chart's dataset and
        display the percentage increase or decrease of the current quarter against Q1 2017. Clicking
        Play/Pause will trigger the chart to step through each quarter every one second. Clicking
        the button again will pause it. The date ranges from 2017 Q1 to 2021 Q4. The size of
        the bubbles is proportional the the market cap of that stock. Stocks are arranged by sectors.
        A tooltip will appear when hovering the cursor over a bubble.
      </p>
      <p>
        This interactive visualization is done entirely in D3.js. The animated transitions are
        created using D3's force layout. Clusters are oriented vertically so that every bubble
        within a sector is attacted the same x-coordinate. A y-force is applied to each bubble
        within a sector. The y-force will pull the bubble to the y-coordinate mapped to the stocks's
        market cap return. The last force is a collision force and will prevent bubbles from
        completely overlapping each other and causing bubbles to push against each other. The three
        forces combined with a transition effect results in the animiated movement of each bubble.
      </p>
      </p>
    </div>
    <script src="d3swarm.js"></script>
  </body>
</html>
